<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Угадай место на карте</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
			margin: 0;
			padding: 0;
		}

		.container {
			padding: 20px;
		}

		#street-view {
			width: 100%;
			height: 400px;
			margin: 0 auto;
		}

		.options {
			display: flex;
			justify-content: center;
			gap: 15px;
			margin-top: 20px;
		}

			.options button {
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
			}

		.result {
			margin-top: 20px;
			font-size: 18px;
			font-weight: bold;
		}

		.next-button {
			margin-top: 20px;
			display: none;
		}

			.next-button button {
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
			}
	</style>
	<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY" defer></script>
</head>
<body>
	<div class="container">
		<h1>Угадай место на карте</h1>
		<div id="street-view"></div>
		<div class="options">
			<button onclick="checkAnswer(0)">Вариант 1</button>
			<button onclick="checkAnswer(1)">Вариант 2</button>
			<button onclick="checkAnswer(2)">Вариант 3</button>
		</div>
		<div class="result" id="result"></div>
		<div class="next-button" id="nextButton">
			<button onclick="nextPanorama()">Продолжить</button>
		</div>
	</div>

	<script>
		// Массив данных для панорам
		const panoramas = [
			{ location: { lat: 48.858844, lng: 2.294351 }, correct: 1 }, // Эйфелева башня
			{ location: { lat: 40.689247, lng: -74.044502 }, correct: 0 }, // Статуя Свободы
			{ location: { lat: 35.689487, lng: 139.691711 }, correct: 2 }, // Токио
		];

		const options = [
			["Место 1", "Место 2", "Место 3"],
			["Место 4", "Место 5", "Место 6"],
			["Место 7", "Место 8", "Место 9"],
		];

		let currentIndex = 0;
		let panorama;

		function initializePanorama() {
			// Создаем панораму
			panorama = new google.maps.StreetViewPanorama(
				document.getElementById("street-view"),
				{
					position: panoramas[currentIndex].location,
					pov: { heading: 34, pitch: 10 },
					disableDefaultUI: true, // Отключение интерфейса
					zoomControl: false, // Убираем зум
				}
			);
		}

		function loadPanorama() {
			// Загружаем панораму для текущего индекса
			panorama.setPosition(panoramas[currentIndex].location);

			const buttons = document.querySelectorAll(".options button");
			buttons.forEach((btn, index) => {
				btn.textContent = options[currentIndex][index];
				btn.disabled = false;
			});

			document.getElementById("result").textContent = "";
			document.getElementById("nextButton").style.display = "none";
		}

		function checkAnswer(selectedIndex) {
			const resultDiv = document.getElementById("result");
			if (selectedIndex === panoramas[currentIndex].correct) {
				resultDiv.textContent = "Правильно!";
				resultDiv.style.color = "green";
			} else {
				resultDiv.textContent = "Неправильно!";
				resultDiv.style.color = "red";
			}

			document.querySelectorAll(".options button").forEach(btn => btn.disabled = true);
			document.getElementById("nextButton").style.display = "block";
		}

		function nextPanorama() {
			currentIndex++;
			if (currentIndex < panoramas.length) {
				loadPanorama();
			} else {
				document.body.innerHTML = "<h1>Игра завершена!</h1><p>Спасибо за участие!</p>";
			}
		}

		// Инициализация карты при загрузке
		window.onload = function () {
			initializePanorama();
			loadPanorama();
		};
	</script>
</body>
</html>
