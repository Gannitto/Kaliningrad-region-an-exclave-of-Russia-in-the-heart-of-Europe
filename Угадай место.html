<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="style.css">
	<title>Проектная работа</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Угадай место на карте</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
			margin: 0;
			padding: 0;
		}

		.container {
			padding: 20px;
		}

        .map-container {
            position: relative;
            width: 100%;
            height: 400px;
        }

		iframe {
			width: 80%;
			height: 400px;
			border: none;
		}

        .cover {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 60px; /* Высота белого прямоугольника */
            background-color: white;
            z-index: 2;
        }

		.options {
			display: flex;
			justify-content: center;
			gap: 15px;
			margin-top: 20px;
		}

			.options button {
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
			}

		.result {
			margin-top: 20px;
			font-size: 18px;
			font-weight: bold;
		}

		.next-button {
			margin-top: 20px;
			display: none;
		}

			.next-button button {
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
			}
	</style>
</head>
<body>
	<!-- Верхняя панель-->
	<div class="navbar">
		<div class="left-links">
			<a href="index.html" class="nav-link">Главная страница</a>
			<a href="Интересные%20факты.html" class="nav-link">Интересные факты</a>
			<a href="Викторина.html" class="nav-link">Викторина</a>
		</div>
		<div class="right-links">
			<img src="KML logo.jpeg" style="width: auto; height: 50px" class="nav-link">
		</div>
	</div>

	<div id="brs">
		<br>
		<br>
		<br>
	</div>

	<div class="content" id="startScreen">
		<h1>Добро пожаловать в игру "Угадай место на карте"</h1>
		<p>У вас будет 10 панорам от Google maps. Все места находятся в Калининградской области. Выберите правильное место из трех вариантов.</p>
		<button class="button" onclick="startGame()">Начать игру</button>
	</div>

	<!-- Основной контент -->

	<div class="container" id="gameContainer">

		<h1>Угадай место на карте</h1>
		<div class="map-container">
			<iframe id="map" src=""></iframe>
			<div class="cover"></div>
		</div>

		<div class="options" id="options">
			<button class="button" onclick="checkAnswer(0)">Вариант 1</button>
			<button class="button" onclick="checkAnswer(1)">Вариант 2</button>
			<button class="button" onclick="checkAnswer(2)">Вариант 3</button>
		</div>
		<div class="result" id="result"></div>
		<div class="next-button" id="nextButton">
			<button class="button" onclick="nextPanorama()">Продолжить</button>
		</div>
	</div>

	<script>

        document.getElementById("gameContainer").style.display = "none";

		// Массив панорам и вариантов
		const panoramas = [
			{ url: "https://www.google.com/maps/embed?pb=!4v1732045818977!6m8!1m7!1szn6-pOEbB9Cl7DDwzC6_6w!2m2!1d54.73502307463567!2d20.48266098605627!3f140.7060352305852!4f-9.55554198931317!5f0.7820865974627469", correct: 1 },
			{ url: "https://www.google.com/maps/embed?pb=!2m4", correct: 0 },
			{ url: "https://www.google.com/maps/embed?pb=!3m5", correct: 2 },
		];

		const options = [
			["Место 1", "Место 2", "Место 3"],
			["Место 4", "Место 5", "Место 6"],
			["Место 7", "Место 8", "Место 9"],
		];

		let currentIndex = 0;

		function startGame() {
			document.getElementById("startScreen").style.display = "none";
            document.getElementById("brs").style.display = "none";
			document.getElementById("gameContainer").style.display = "block";
			loadPanorama();
		}

		function loadPanorama() {
			document.getElementById("map").src = panoramas[currentIndex].url;
			const buttons = document.querySelectorAll(".options button");
			buttons.forEach((btn, index) => {
				btn.textContent = options[currentIndex][index];
				btn.disabled = false;
			});
			document.getElementById("result").textContent = "";
            document.getElementById("nextButton").style.display = "none";
		}

		function checkAnswer(selectedIndex) {

			const resultDiv = document.getElementById("result");
			if (selectedIndex === panoramas[currentIndex].correct) {
				resultDiv.textContent = "Правильно!";
				resultDiv.style.color = "green";
			} else {
				resultDiv.textContent = "Неправильно!";
				resultDiv.style.color = "red";
			}
            document.querySelectorAll(".options button").forEach(btn => btn.disabled = true);
            document.getElementById("nextButton").style.display = "block";
            document.getElementById("options").style.display = "none";
		}

		function nextPanorama() {
			currentIndex++;
            if (currentIndex < panoramas.length) {
                document.getElementById("options").style.display = "block";
				loadPanorama();
			} else {
				document.body.innerHTML = "<h1>Игра завершена!</h1><p>Спасибо за участие!</p>";
			}
		}

		// Загрузка первой панорамы при открытии
		loadPanorama();
	</script>
</body>
</html>
